{% load i18n %}

{% if categories %}
<!-- Modern Categories Section -->
<div class="modern-categories-section" data-aos="fade-up">
    <div class="container">
        <!-- Categories Grid -->
        <div class="categories-grid" data-aos="fade-up" data-aos-delay="200">
            {% for cat in categories %}
            <div class="category-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:200 }}">
                <a href="{% url 'shop:category_detail' slug=cat.slug %}" class="category-link">
                    {% if cat.image %}
                        <div class="category-visual" style="background-image: url('{{ cat.image.url }}');">
                            <div class="category-visual-overlay"></div>
                            <div class="category-badge">
                                <span class="material-icons">inventory_2</span>
                                <span class="badge-count">{{ cat.products.count|default:"0" }}</span>
                            </div>
                        </div>
                    {% else %}
                        <div class="category-visual no-image">
                            <div class="category-visual-overlay"></div>
                            <div class="category-icon-large">
                                <span class="material-icons">category</span>
                            </div>
                            <div class="category-badge">
                                <span class="material-icons">inventory_2</span>
                                <span class="badge-count">{{ cat.products.count|default:"0" }}</span>
                            </div>
                        </div>
                    {% endif %}
                    <div class="category-info">
                        <h3 class="category-title">{{ cat.name }}</h3>
                        <div class="category-cta">
                            <span class="cta-text">{% trans "Shop Now" %}</span>
                            <span class="material-icons">arrow_forward</span>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}

            <!-- All Categories Card -->
            <div class="category-card all-categories-card" data-aos="fade-up" data-aos-delay="{{ categories|length|add:300 }}">
                <a href="{% url 'shop:category_detail' slug='all' %}" class="category-link">
                    <div class="category-visual no-image all-cat">
                        <div class="category-visual-overlay"></div>
                        <div class="category-icon-large">
                            <span class="material-icons">apps</span>
                        </div>
                        <div class="category-badge explore-badge">
                            <span class="material-icons">explore</span>
                            <span class="badge-count">{% trans "All" %}</span>
                        </div>
                    </div>
                    <div class="category-info">
                        <h3 class="category-title">{% trans "All Categories" %}</h3>
                        <div class="category-cta">
                            <span class="cta-text">{% trans "Explore All" %}</span>
                            <span class="material-icons">explore</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <!-- Registration Section -->
        <div class="registration-section" data-aos="fade-up" data-aos-delay="400">
            <h3 class="registration-title">
                <span class="material-icons">store</span>
                {% trans "Join Our Marketplace" %}
            </h3>
            <p class="registration-subtitle">{% trans "Start your journey as a vendor or customer today" %}</p>

            <div class="registration-cards">
                <!-- Vendor Registration -->
                <div class="registration-card vendor-card" data-aos="slide-up" data-aos-delay="500">
                    <div class="card-icon">
                        <span class="material-icons">storefront</span>
                    </div>
                    <div class="card-content">
                        <h4 class="card-title">{% trans "Become a Vendor" %}</h4>
                        <p class="card-description">{% trans "Join our marketplace and start selling your products worldwide" %}</p>
                        <a href="{% url 'shop:register_vendor' %}" class="registration-btn vendor-btn">
                            <span class="btn-text">{% trans "Register as Vendor" %}</span>
                            <span class="material-icons">arrow_forward</span>
                        </a>
                    </div>
                </div>

                <!-- Customer Registration -->
                <div class="registration-card customer-card" data-aos="slide-up" data-aos-delay="600">
                    <div class="card-icon">
                        <span class="material-icons">person_add</span>
                    </div>
                    <div class="card-content">
                        <h4 class="card-title">{% trans "Join as Customer" %}</h4>
                        <p class="card-description">{% trans "Create an account to enjoy exclusive offers and fast checkout" %}</p>
                        <a href="{% url 'shop:register_customer' %}" class="registration-btn customer-btn">
                            <span class="btn-text">{% trans "Register as Customer" %}</span>
                            <span class="material-icons">arrow_forward</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}
